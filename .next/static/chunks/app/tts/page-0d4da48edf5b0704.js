(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{3690:function(e,l,a){Promise.resolve().then(a.bind(a,4071))},4071:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return t}});var s=a(7437);a(8877);var n=a(2265),i=a(1180);function t(){let[e,l]=(0,n.useState)("Hello from Text to Speech!"),[a,t]=(0,n.useState)("replicate"),[o,r]=(0,n.useState)("Friendly_Person"),[c,d]=(0,n.useState)("JBFqnCBsd6RMkjVDRZzb"),[u,h]=(0,n.useState)("eleven_multilingual_v2"),[v,p]=(0,n.useState)("mp3_44100_128"),[x,m]=(0,n.useState)("auto"),[j,g]=(0,n.useState)(1),[_,y]=(0,n.useState)(0),[N,b]=(0,n.useState)(1),[f,S]=(0,n.useState)("English"),[C,k]=(0,n.useState)(!0),[w,I]=(0,n.useState)(44100),[M,E]=(0,n.useState)(128e3),[F,z]=(0,n.useState)("stereo"),[G,A]=(0,n.useState)([]),[P,T]=(0,n.useState)(!1),[V,H]=(0,n.useState)(null),[J,D]=(0,n.useState)(!1),[O,R]=(0,n.useState)(null),[L,B]=(0,n.useState)(null),[W,Z]=(0,n.useState)(null);async function q(){D(!0),R(null),B(null);try{let{data:{user:l}}=await i._.auth.getUser();if(!l)throw Error("Please sign in at /auth before creating a task.");let{data:s,error:n}=await i._.from("tasks").insert({user_id:l.id,type:"tts",status:"queued",provider:a,model_id:"elevenlabs"===a?u:null,options_json:{emotion:x,speed:j,pitch:_,volume:N,language_boost:f,english_normalization:C,provider:a,model_id:"elevenlabs"===a?u:void 0,output_format:"elevenlabs"===a?v:void 0,voice_id:"replicate"===a?o:c},text_input:e}).select("*").single();if(n||!s)throw Error((null==n?void 0:n.message)||"Failed to create task");Z(s.id);let t=await fetch("/api/tts/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,provider:a,voice_id:"replicate"===a?o:c,model_id:"elevenlabs"===a?u:void 0,output_format:"elevenlabs"===a?v:void 0,emotion:x,speed:j,pitch:_,volume:N,language_boost:f,english_normalization:C})});if(!t.ok)throw Error(await t.text());let r=await t.json();if(!r.url)throw Error("No audio URL returned");B(r.url),(null==s?void 0:s.id)&&await i._.from("tasks").update({status:"finished",output_url:r.url}).eq("id",s.id)}catch(e){R((null==e?void 0:e.message)||"Failed to run TTS"),W&&await i._.from("tasks").update({status:"error"}).eq("id",W)}finally{D(!1)}}return(0,n.useEffect)(()=>{async function e(){try{H(null),T(!0);let e=await fetch("/api/tts/voices",{cache:"no-store"});if(!e.ok)throw Error(await e.text());let l=await e.json(),a=(Array.isArray(null==l?void 0:l.voices)?l.voices:Array.isArray(l)?l:[]).map(e=>({voice_id:e.voice_id||e.id,name:e.name})).filter(e=>e.voice_id&&e.name);A(a),a.length>0&&!a.some(e=>e.voice_id===c)&&d(a[0].voice_id)}catch(e){H((null==e?void 0:e.message)||"Failed to load ElevenLabs voices")}finally{T(!1)}}"elevenlabs"===a&&e()},[a]),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"panel output",children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsx)("h2",{style:{margin:0},children:"Output"})}),(0,s.jsx)("div",{className:"outputArea",children:L?(0,s.jsxs)("div",{children:[(0,s.jsx)("audio",{src:L,controls:!0,style:{width:"100%"}}),(0,s.jsxs)("div",{className:"small",style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap",justifyContent:"center"},children:[(0,s.jsx)("a",{href:L,target:"_blank",rel:"noreferrer",style:{padding:"8px 12px",background:"var(--panel-elevated)",borderRadius:"6px",textDecoration:"none"},children:"Open"}),(0,s.jsx)("a",{href:"/api/proxy?download=true&url=".concat(encodeURIComponent(L)),style:{padding:"8px 12px",background:"var(--accent)",color:"white",borderRadius:"6px",textDecoration:"none"},children:"Download"})]})]}):(0,s.jsx)("div",{style:{fontSize:16,color:"#b7c2df"},children:"Generated audio will appear here."})}),O&&(0,s.jsx)("div",{className:"small",style:{color:"#ff7878"},children:O})]}),(0,s.jsxs)("div",{className:"panel",children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)("h3",{style:{margin:0},children:"Text-to-Speech"}),(0,s.jsx)("span",{className:"badge",children:"AI Voice Synthesis"})]}),(0,s.jsx)("div",{className:"options",children:(0,s.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"small",children:"Provider"}),(0,s.jsxs)("select",{className:"select",value:a,onChange:e=>t(e.target.value),children:[(0,s.jsx)("option",{value:"replicate",children:"Replicate (minimax/speech-02-hd)"}),(0,s.jsx)("option",{value:"elevenlabs",children:"ElevenLabs (Premium Quality)"})]})]})}),(0,s.jsx)("div",{className:"options",children:(0,s.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"small",children:"Text to Convert"}),(0,s.jsx)("textarea",{className:"input",value:e,onChange:e=>l(e.target.value),rows:5,placeholder:"Enter the text you want to convert to speech (up to 5000 characters)..."}),(0,s.jsxs)("div",{className:"small",style:{marginTop:"var(--space-2)",textAlign:"right",color:"var(--text-muted)"},children:[e.length," / 5000 characters"]})]})}),(0,s.jsx)("div",{className:"options",children:"replicate"===a?(0,s.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"small",children:"Voice Character"}),(0,s.jsxs)("select",{className:"select",value:o,onChange:e=>r(e.target.value),children:[(0,s.jsx)("option",{value:"Wise_Woman",children:"Wise Woman"}),(0,s.jsx)("option",{value:"Friendly_Person",children:"Friendly Person"}),(0,s.jsx)("option",{value:"Inspirational_girl",children:"Inspirational Girl"}),(0,s.jsx)("option",{value:"Deep_Voice_Man",children:"Deep Voice Man"}),(0,s.jsx)("option",{value:"Calm_Woman",children:"Calm Woman"}),(0,s.jsx)("option",{value:"Casual_Guy",children:"Casual Guy"}),(0,s.jsx)("option",{value:"Lively_Girl",children:"Lively Girl"}),(0,s.jsx)("option",{value:"Patient_Man",children:"Patient Man"}),(0,s.jsx)("option",{value:"Young_Knight",children:"Young Knight"}),(0,s.jsx)("option",{value:"Determined_Man",children:"Determined Man"}),(0,s.jsx)("option",{value:"Lovely_Girl",children:"Lovely Girl"}),(0,s.jsx)("option",{value:"Decent_Boy",children:"Decent Boy"}),(0,s.jsx)("option",{value:"Imposing_Manner",children:"Imposing Manner"}),(0,s.jsx)("option",{value:"Elegant_Man",children:"Elegant Man"}),(0,s.jsx)("option",{value:"Abbess",children:"Abbess"}),(0,s.jsx)("option",{value:"Sweet_Girl_2",children:"Sweet Girl 2"}),(0,s.jsx)("option",{value:"Exuberant_Girl",children:"Exuberant Girl"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"ElevenLabs Voice"}),P?(0,s.jsx)("div",{className:"small",style:{color:"var(--text-muted)"},children:"Loading voices…"}):V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"small",style:{color:"var(--red)"},children:V}),(0,s.jsx)("input",{className:"input",value:c,onChange:e=>d(e.target.value),placeholder:"Voice ID (e.g. JBFqnC...)"})]}):(0,s.jsx)("select",{className:"select",value:c,onChange:e=>d(e.target.value),children:G.map(e=>(0,s.jsx)("option",{value:e.voice_id,children:e.name},e.voice_id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Model"}),(0,s.jsxs)("select",{className:"select",value:u,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"eleven_multilingual_v2",children:"Multilingual V2"}),(0,s.jsx)("option",{value:"eleven_monolingual_v1",children:"Monolingual V1"}),(0,s.jsx)("option",{value:"eleven_turbo_v2",children:"Turbo V2 (Fast)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Output Format"}),(0,s.jsxs)("select",{className:"select",value:v,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"mp3_44100_128",children:"MP3 44.1kHz 128kbps"}),(0,s.jsx)("option",{value:"mp3_44100_64",children:"MP3 44.1kHz 64kbps"}),(0,s.jsx)("option",{value:"mp3_22050_32",children:"MP3 22kHz 32kbps"}),(0,s.jsx)("option",{value:"wav_44100",children:"WAV 44.1kHz"})]})]})]})}),(0,s.jsxs)("div",{className:"options",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Emotion"}),(0,s.jsxs)("select",{className:"select",value:x,onChange:e=>m(e.target.value),children:[(0,s.jsx)("option",{value:"auto",children:"Auto"}),(0,s.jsx)("option",{value:"neutral",children:"Neutral"}),(0,s.jsx)("option",{value:"happy",children:"Happy"}),(0,s.jsx)("option",{value:"sad",children:"Sad"}),(0,s.jsx)("option",{value:"angry",children:"Angry"}),(0,s.jsx)("option",{value:"fearful",children:"Fearful"}),(0,s.jsx)("option",{value:"disgusted",children:"Disgusted"}),(0,s.jsx)("option",{value:"surprised",children:"Surprised"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Speed"}),(0,s.jsx)("input",{className:"input",type:"number",step:.1,min:.5,max:2,value:j,onChange:e=>g(parseFloat(e.target.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Pitch"}),(0,s.jsx)("input",{className:"input",type:"number",step:1,min:-12,max:12,value:_,onChange:e=>y(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Volume"}),(0,s.jsx)("input",{className:"input",type:"number",step:.1,min:0,max:10,value:N,onChange:e=>b(parseFloat(e.target.value))})]})]}),(0,s.jsxs)("div",{className:"options",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Sample Rate"}),(0,s.jsxs)("select",{className:"select",value:w,onChange:e=>I(parseInt(e.target.value)),children:[(0,s.jsx)("option",{value:44100,children:"44.1 kHz (CD Quality)"}),(0,s.jsx)("option",{value:32e3,children:"32 kHz"}),(0,s.jsx)("option",{value:24e3,children:"24 kHz"}),(0,s.jsx)("option",{value:22050,children:"22.05 kHz"}),(0,s.jsx)("option",{value:16e3,children:"16 kHz"}),(0,s.jsx)("option",{value:8e3,children:"8 kHz (Phone Quality)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Bitrate"}),(0,s.jsxs)("select",{className:"select",value:M,onChange:e=>E(parseInt(e.target.value)),children:[(0,s.jsx)("option",{value:256e3,children:"256 kbps (High)"}),(0,s.jsx)("option",{value:128e3,children:"128 kbps (Standard)"}),(0,s.jsx)("option",{value:64e3,children:"64 kbps (Medium)"}),(0,s.jsx)("option",{value:32e3,children:"32 kbps (Low)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Channel"}),(0,s.jsxs)("select",{className:"select",value:F,onChange:e=>z(e.target.value),children:[(0,s.jsx)("option",{value:"stereo",children:"Stereo"}),(0,s.jsx)("option",{value:"mono",children:"Mono"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"small",children:"Language Boost"}),(0,s.jsxs)("select",{className:"select",value:f,onChange:e=>S(e.target.value),children:[(0,s.jsx)("option",{value:"English",children:"English"}),(0,s.jsx)("option",{value:"Automatic",children:"Automatic"}),(0,s.jsx)("option",{value:"None",children:"None"}),(0,s.jsx)("option",{value:"Chinese",children:"Chinese"}),(0,s.jsx)("option",{value:"Spanish",children:"Spanish"}),(0,s.jsx)("option",{value:"French",children:"French"}),(0,s.jsx)("option",{value:"German",children:"German"}),(0,s.jsx)("option",{value:"Italian",children:"Italian"}),(0,s.jsx)("option",{value:"Portuguese",children:"Portuguese"}),(0,s.jsx)("option",{value:"Russian",children:"Russian"}),(0,s.jsx)("option",{value:"Japanese",children:"Japanese"}),(0,s.jsx)("option",{value:"Korean",children:"Korean"}),(0,s.jsx)("option",{value:"Arabic",children:"Arabic"}),(0,s.jsx)("option",{value:"Hindi",children:"Hindi"})]})]})]}),"replicate"===a&&(0,s.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center",marginTop:8},children:[(0,s.jsx)("input",{type:"checkbox",checked:C,onChange:e=>k(e.target.checked)})," English normalization"]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:12},disabled:!e.trim()||J,onClick:q,children:J?"Generating…":"Generate speech"})]})]})}},1180:function(e,l,a){"use strict";a.d(l,{_:function(){return s}});let s=(0,a(6887).eI)("https://ueunqeqrvtuofpdoozye.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVldW5xZXFydnR1b2ZwZG9venllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxOTM4NjMsImV4cCI6MjA3MTc2OTg2M30.JY5i-uB5vZJ6enhWVgf9Bwg9bK2BFjmuXuOfjbQEQUw",{auth:{persistSession:!0,autoRefreshToken:!0}})},8877:function(){}},function(e){e.O(0,[404,887,971,23,744],function(){return e(e.s=3690)}),_N_E=e.O()}]);
(()=>{var e={};e.id=9209,e.ids=[9209],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91747:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(89769),s(98131),s(35866);var n=s(23191),t=s(88716),i=s(37922),r=s.n(i),l=s(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(a,d);let c=["",{children:["lipsync-latentsync",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,89769)),"/Users/Aaron/Downloads/next-lipsync-app/app/lipsync-latentsync/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,98131)),"/Users/Aaron/Downloads/next-lipsync-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/Aaron/Downloads/next-lipsync-app/app/lipsync-latentsync/page.tsx"],p="/lipsync-latentsync/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/lipsync-latentsync/page",pathname:"/lipsync-latentsync",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},97017:(e,a,s)=>{Promise.resolve().then(s.bind(s,20945))},16056:(e,a,s)=>{Promise.resolve().then(s.bind(s,51866))},9922:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},51866:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var n=s(10326);s(4047);var t=s(17577);function i(){let[e,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),[r,l]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[o,p]=(0,t.useState)(null),[u,h]=(0,t.useState)("unknown"),[x,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(30),[v,j]=(0,t.useState)(1.5),y=(0,t.useRef)(null),b=e=>m(a=>[...a,`${new Date().toLocaleTimeString()}  ${e}`]),N=(0,t.useCallback)(e=>a(e),[]),w=(0,t.useCallback)(e=>i(e),[]);async function D(){if(!e||!s)return!1;if(r&&d)return{videoUrl:r,audioUrl:d};b("Uploading files to Supabase...");let a=async e=>{let a=new FormData;a.append("file",e),a.append("filename",e.name);let s=await fetch("/api/upload",{method:"POST",body:a});if(!s.ok)throw Error(await s.text());return s.json()},[n,t]=await Promise.all([a(e),a(s)]);return l(n.url),c(t.url),b("Uploaded."),{videoUrl:n.url,audioUrl:t.url}}async function P(){try{let e=await D();if(!e)return;h("queued"),m([]),b("Pushing LatentSync job...");let a=await fetch("/api/latentsync/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoUrl:e.videoUrl,audioUrl:e.audioUrl,options:{inference_steps:f,guidance_scale:v}})});if(!a.ok){b("Push failed: "+await a.text()),h("error");return}let s=await a.json();p(s.id),b(`Job created: ${s.id}`),y.current&&clearInterval(y.current),y.current=setInterval(async()=>{let e=await fetch(`/api/latentsync/status?id=${s.id}`);if(!e.ok)return;let a=await e.json();a.status&&a.status!==u&&b(`Status: ${a.status}`),h(a.status),("succeeded"===a.status||"failed"===a.status)&&(clearInterval(y.current),y.current=null,a.outputUrl&&(window.__LATENTSYNC_OUTPUT__=a.outputUrl),a.error&&b(`Error: ${JSON.stringify(a.error)}`))},2500)}catch(e){b("Error: "+e.message),h("error")}}return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"panel output",children:[(0,n.jsxs)("div",{className:"header",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("h2",{style:{margin:0},children:"Output (LatentSync)"}),n.jsx("span",{className:"badge",children:u})]}),(0,n.jsxs)("div",{className:"small",children:["Job ID: ",o??"—"]})]}),n.jsx("div",{className:"outputArea",children:(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontSize:16,color:"#b7c2df"},children:"The result will appear here."}),(0,n.jsxs)("div",{className:"kv",style:{marginTop:12},children:[n.jsx("div",{children:"Video URL"}),n.jsx("div",{className:"small",children:r??"—"}),n.jsx("div",{children:"Audio URL"}),n.jsx("div",{className:"small",children:d??"—"})]})]})}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{margin:"8px 0 6px"},children:"Log"}),n.jsx("pre",{className:"log",children:x.join("\n")})]})]}),(0,n.jsxs)("div",{className:"panel",children:[(0,n.jsxs)("div",{className:"header",children:[n.jsx("h3",{style:{margin:0},children:"Inputs (LatentSync)"}),n.jsx("span",{className:"badge",children:"ByteDance"})]}),(0,n.jsxs)("div",{className:"dnd",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let a=e.dataTransfer.files?.[0];a&&N(a)},onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="video/*",e.onchange=()=>{let a=e.files?.[0]||null;a&&N(a)},e.click()},children:[n.jsx("div",{style:{fontWeight:700},children:"Video"}),n.jsx("div",{className:"small",children:"MP4/MOV recommended"}),e&&(0,n.jsxs)("div",{className:"fileInfo",children:["\uD83D\uDCF9 ",e.name," (",Math.round(e.size/1024/1024*10)/10," MB)"]}),r&&(0,n.jsxs)("div",{className:"fileInfo",children:["\uD83D\uDD17 Uploaded: ",r]})]}),(0,n.jsxs)("div",{className:"dnd",style:{marginTop:12},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let a=e.dataTransfer.files?.[0];a&&w(a)},onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="audio/*",e.onchange=()=>{let a=e.files?.[0]||null;a&&w(a)},e.click()},children:[n.jsx("div",{style:{fontWeight:700},children:"Voiceover"}),n.jsx("div",{className:"small",children:"WAV/MP3 preferred"}),s&&(0,n.jsxs)("div",{className:"fileInfo",children:["\uD83C\uDF99️ ",s.name," (",Math.round(s.size/1024/1024*10)/10," MB)"]}),d&&(0,n.jsxs)("div",{className:"fileInfo",children:["\uD83D\uDD17 Uploaded: ",d]})]}),n.jsx("div",{style:{marginTop:16,fontWeight:700},children:"Options"}),(0,n.jsxs)("div",{className:"options",children:[(0,n.jsxs)("div",{children:[n.jsx("div",{className:"small",children:"Inference steps"}),n.jsx("input",{className:"select",type:"number",min:20,max:50,value:f,onChange:e=>g(parseInt(e.target.value||"30",10))})]}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"small",children:"Guidance scale"}),n.jsx("input",{className:"select",type:"number",step:.1,min:1,max:3,value:v,onChange:e=>j(parseFloat(e.target.value||"1.5"))})]})]}),n.jsx("button",{className:"btn",onClick:P,disabled:!e||!s,children:"Generate (LatentSync)"})]})]})}},20945:(e,a,s)=>{"use strict";s.d(a,{LayoutWrapper:()=>D});var n=s(10326);s(17577);var t=s(35047),i=s(29798),r=s(58775),l=s(36283),d=s(49758),c=s(71709),o=s(1572),p=s(56562),u=s(61584),h=s(87444),x=s(31540),m=s(88307),f=s(2634),g=s(71208),v=s(88319),j=s(66697),y=s(32691),b=s(88378);let N=[{href:"/",label:"Home",icon:n.jsx(i.Z,{size:18})},{href:"/lipsync-new",label:"+ New Lipsync",icon:n.jsx(r.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #ff9f43)"},{href:"/transcription/bulk",label:"+ Bulk Transcription",icon:n.jsx(l.Z,{size:18}),gradient:"linear-gradient(90deg, #ff9f43, #6aa4ff)"},{href:"/veo",label:"+ New Video",icon:n.jsx(d.Z,{size:18}),gradient:"linear-gradient(90deg, #a36bff, #6aa4ff)"},{href:"/image",label:"+ New Image",icon:n.jsx(c.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #a36bff)"},{href:"/enhance",label:"+ New Enhance",icon:n.jsx(o.Z,{size:18}),gradient:"linear-gradient(90deg, #ffbd2e, #42d392)"},{href:"/tts",label:"+ New Text to Speech",icon:n.jsx(p.Z,{size:18}),gradient:"linear-gradient(90deg, #ffbd2e, #ff6b6b)"},{href:"/adscript",label:"+ New Ad Script",icon:n.jsx(u.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #ff9f43)"},{href:"/background-remove",label:"+ Remove Background",icon:n.jsx(h.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #ff6b6b)"},{href:"/download",label:"+ TikTok Downloader",icon:n.jsx(x.Z,{size:18}),gradient:"linear-gradient(90deg, #1db954, #2b8a3e)"},{href:"/spy",label:"Spy Tool",icon:n.jsx(m.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #42d392)"},{href:"/editor",label:"Editor",icon:n.jsx(f.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #a36bff)"},{href:"/auto-edit-beta",label:"+ Auto Edit Beta",icon:n.jsx(g.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #a36bff)"},{href:"/library",label:"Database",icon:n.jsx(v.Z,{size:18}),gradient:"linear-gradient(90deg, #1db954, #6aa4ff)"},{href:"/tasks",label:"Tasks",icon:n.jsx(j.Z,{size:18})},{href:"/auth",label:"Sign in / Up",icon:n.jsx(y.Z,{size:18})},{href:"#",label:"Settings (soon)",icon:n.jsx(b.Z,{size:18}),disabled:!0}];function w(){let e=(0,t.usePathname)();return(0,n.jsxs)("aside",{className:"sidebar",children:[n.jsx("div",{className:"sidebar-header",children:n.jsx("h1",{className:"sidebar-title",children:"Lipsync"})}),n.jsx("nav",{className:"sidebar-nav",children:N.map(a=>{let s=e===a.href,t=!!a.gradient;return(0,n.jsxs)("a",{href:a.href,className:`nav-item ${s?"nav-item-active":""} ${t?"nav-item-gradient":""} ${a.disabled?"nav-item-disabled":""}`,style:t?{background:a.gradient}:void 0,onClick:a.disabled?e=>e.preventDefault():void 0,title:a.label,children:[n.jsx("span",{className:"nav-item-icon",children:a.icon}),n.jsx("span",{className:"nav-item-label",children:a.label})]},a.href)})}),n.jsx("div",{className:"sidebar-footer",children:(0,n.jsxs)("div",{className:"sidebar-copyright",children:["\xa9 ",new Date().getFullYear()," Lipsync"]})})]})}function D({children:e}){return"/"===(0,t.usePathname)()?n.jsx(n.Fragment,{children:e}):(0,n.jsxs)("div",{className:"app-layout",children:[n.jsx(w,{}),(0,n.jsxs)("main",{className:"app-main",children:[n.jsx("div",{className:"app-header",children:(0,n.jsxs)("div",{className:"app-header-content",children:[n.jsx("div",{className:"app-tagline",children:"Build great lipsyncs."}),(0,n.jsxs)("div",{className:"app-user",children:[n.jsx("div",{className:"user-email",id:"user-email"}),n.jsx("div",{className:"user-avatar-small"})]})]})}),n.jsx("div",{className:"app-content",children:e})]})]})}},98131:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o,metadata:()=>c});var n=s(19510);s(67272);var t=s(68570);let i=(0,t.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/components/LayoutWrapper.tsx`),{__esModule:r,$$typeof:l}=i;i.default;let d=(0,t.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/components/LayoutWrapper.tsx#LayoutWrapper`),c={title:"Lipsync App",description:"Upload a video + audio and get back a lipsynced video using Sieve",viewport:"width=device-width, initial-scale=1"};function o({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{suppressHydrationWarning:!0,children:n.jsx(d,{children:e})})})}},89769:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>r,__esModule:()=>i,default:()=>l});var n=s(68570);let t=(0,n.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/app/lipsync-latentsync/page.tsx`),{__esModule:i,$$typeof:r}=t;t.default;let l=(0,n.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/app/lipsync-latentsync/page.tsx#default`)},67272:()=>{},4047:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),n=a.X(0,[8948,7893],()=>s(91747));module.exports=n})();
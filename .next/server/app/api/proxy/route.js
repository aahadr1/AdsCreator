"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/proxy/route";
exports.ids = ["app/api/proxy/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproxy%2Froute&page=%2Fapi%2Fproxy%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Froute.ts&appDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproxy%2Froute&page=%2Fapi%2Fproxy%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Froute.ts&appDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_Aaron_Downloads_next_lipsync_app_app_api_proxy_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/proxy/route.ts */ \"(rsc)/./app/api/proxy/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/proxy/route\",\n        pathname: \"/api/proxy\",\n        filename: \"route\",\n        bundlePath: \"app/api/proxy/route\"\n    },\n    resolvedPagePath: \"/Users/Aaron/Downloads/next-lipsync-app/app/api/proxy/route.ts\",\n    nextConfigOutput,\n    userland: _Users_Aaron_Downloads_next_lipsync_app_app_api_proxy_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/proxy/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm94eSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJveHklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm94eSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRkFhcm9uJTJGRG93bmxvYWRzJTJGbmV4dC1saXBzeW5jLWFwcCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZBYXJvbiUyRkRvd25sb2FkcyUyRm5leHQtbGlwc3luYy1hcHAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2M7QUFDM0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWxpcHN5bmMtYXBwLz83Y2IyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9BYXJvbi9Eb3dubG9hZHMvbmV4dC1saXBzeW5jLWFwcC9hcHAvYXBpL3Byb3h5L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm94eS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb3h5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm94eS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9BYXJvbi9Eb3dubG9hZHMvbmV4dC1saXBzeW5jLWFwcC9hcHAvYXBpL3Byb3h5L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm94eS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproxy%2Froute&page=%2Fapi%2Fproxy%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Froute.ts&appDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/proxy/route.ts":
/*!********************************!*\
  !*** ./app/api/proxy/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function GET(req) {\n    try {\n        const { searchParams } = new URL(req.url);\n        let target = searchParams.get(\"url\");\n        const typeHint = (searchParams.get(\"type\") || \"\").toLowerCase();\n        const asDownload = (searchParams.get(\"download\") || \"\").toLowerCase() === \"true\";\n        if (!target) return new Response(\"Missing url\", {\n            status: 400\n        });\n        // Basic allowlist: only http(s)\n        if (!target && req.headers.get(\"x-target-url\")) {\n            target = req.headers.get(\"x-target-url\") || undefined;\n        }\n        if (!target) {\n            return new Response(\"Missing url\", {\n                status: 400\n            });\n        }\n        try {\n            // Allow already proxied relative URLs like /api/proxy?url=...\n            // Decode nested encodes\n            while(/%2F|%3A/i.test(target)){\n                const decoded = decodeURIComponent(target);\n                if (decoded === target) break;\n                target = decoded;\n            }\n        } catch  {}\n        if (!/^https?:\\/\\//i.test(String(target))) {\n            return new Response(\"Invalid url\", {\n                status: 400\n            });\n        }\n        // Forward Range headers for video streaming\n        const range = req.headers.get(\"range\") || undefined;\n        const targetUrl = new URL(String(target));\n        const hostname = targetUrl.hostname.toLowerCase();\n        const isTikwmHost = /(^|\\.)tikwm\\.com$/i.test(hostname) || /(^|\\.)tikcdn\\./i.test(hostname);\n        const isTikTokCdn = /tiktok|bytecdn|ttwcdn|tiktokcdn|tiktokv/i.test(hostname);\n        const fetchHeaders = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0 Safari/537.36\",\n            \"Accept\": \"*/*\",\n            \"Connection\": \"keep-alive\"\n        };\n        if (range) fetchHeaders[\"Range\"] = range;\n        if (isTikwmHost) {\n            fetchHeaders[\"Referer\"] = \"https://www.tikwm.com/\";\n            fetchHeaders[\"Origin\"] = \"https://www.tikwm.com\";\n        } else if (isTikTokCdn) {\n            fetchHeaders[\"Referer\"] = \"https://www.tiktok.com/\";\n            fetchHeaders[\"Origin\"] = \"https://www.tiktok.com\";\n        }\n        // First attempt: forward request as-is (including Range if present)\n        let upstream = await fetch(target, {\n            cache: \"no-store\",\n            headers: Object.keys(fetchHeaders).length ? fetchHeaders : undefined\n        }).catch((e)=>{\n            throw new Error(`Upstream fetch error: ${e?.message || \"unknown error\"}`);\n        });\n        // Retry without Range if server rejects partial content\n        if (!upstream.ok || !upstream.body || upstream.status >= 400 && upstream.status !== 206) {\n            try {\n                const retryHeaders = {\n                    ...fetchHeaders\n                };\n                delete retryHeaders[\"Range\"];\n                upstream = await fetch(target, {\n                    cache: \"no-store\",\n                    headers: Object.keys(retryHeaders).length ? retryHeaders : undefined\n                });\n            } catch  {}\n        }\n        if (!upstream.ok || !upstream.body) {\n            const text = await upstream.text().catch(()=>\"\");\n            return new Response(text || \"Upstream fetch failed\", {\n                status: upstream.status || 502\n            });\n        }\n        // Pass through relevant headers and status for proper playback\n        let contentType = upstream.headers.get(\"content-type\") || \"\";\n        const urlPath = targetUrl.pathname.toLowerCase();\n        // Only coerce content-type when upstream didn't provide one\n        if (!contentType && (typeHint === \"video\" || urlPath.endsWith(\".mp4\"))) contentType = \"video/mp4\";\n        const headers = {\n            \"Content-Type\": contentType || \"application/octet-stream\",\n            \"Cache-Control\": \"no-store\",\n            \"Content-Disposition\": \"inline\"\n        };\n        const passHeaders = [\n            \"etag\",\n            \"last-modified\",\n            \"content-length\",\n            \"accept-ranges\",\n            \"content-range\"\n        ];\n        for (const h of passHeaders){\n            const v = upstream.headers.get(h);\n            if (!v) continue;\n            const proper = h.split(\"-\").map((s)=>s.charAt(0).toUpperCase() + s.slice(1)).join(\"-\");\n            headers[proper] = v;\n        }\n        if (!headers[\"Accept-Ranges\"] && (typeHint === \"video\" || urlPath.endsWith(\".mp4\"))) headers[\"Accept-Ranges\"] = \"bytes\";\n        // Force download if requested\n        if (asDownload) {\n            const filename = targetUrl.pathname.split(\"/\").pop() || \"download\";\n            headers[\"Content-Disposition\"] = `attachment; filename=\"${filename}\"`;\n        } else {\n            headers[\"Content-Disposition\"] = \"inline\";\n        }\n        return new Response(upstream.body, {\n            status: upstream.status,\n            headers\n        });\n    } catch (e) {\n        return new Response(`Error: ${e.message}`, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBV2dDLFFBQVFFLFFBQVEsQ0FBQyxPQUFNLEdBQUk3QixPQUFPLENBQUMsZ0JBQWdCLEdBQUc7UUFDaEgsOEJBQThCO1FBQzlCLElBQUlILFlBQVk7WUFDZCxNQUFNNEMsV0FBV2xDLFVBQVVxQixRQUFRLENBQUNNLEtBQUssQ0FBQyxLQUFLUSxHQUFHLE1BQU07WUFDeEQxQyxPQUFPLENBQUMsc0JBQXNCLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRXlDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZFLE9BQU87WUFDTHpDLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRztRQUNuQztRQUVBLE9BQU8sSUFBSUYsU0FBU2MsU0FBU1csSUFBSSxFQUFFO1lBQUV4QixRQUFRYSxTQUFTYixNQUFNO1lBQUVDO1FBQVE7SUFDeEUsRUFBRSxPQUFPbUIsR0FBUTtRQUNmLE9BQU8sSUFBSXJCLFNBQVMsQ0FBQyxPQUFPLEVBQUVxQixFQUFFRSxPQUFPLENBQUMsQ0FBQyxFQUFFO1lBQUV0QixRQUFRO1FBQUk7SUFDM0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtbGlwc3luYy1hcHAvLi9hcHAvYXBpL3Byb3h5L3JvdXRlLnRzPzdhMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgbGV0IHRhcmdldCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO1xuICAgIGNvbnN0IHR5cGVIaW50ID0gKHNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBhc0Rvd25sb2FkID0gKHNlYXJjaFBhcmFtcy5nZXQoJ2Rvd25sb2FkJykgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuIG5ldyBSZXNwb25zZSgnTWlzc2luZyB1cmwnLCB7IHN0YXR1czogNDAwIH0pO1xuXG4gICAgLy8gQmFzaWMgYWxsb3dsaXN0OiBvbmx5IGh0dHAocylcbiAgICBpZiAoIXRhcmdldCAmJiByZXEuaGVhZGVycy5nZXQoJ3gtdGFyZ2V0LXVybCcpKSB7XG4gICAgICB0YXJnZXQgPSByZXEuaGVhZGVycy5nZXQoJ3gtdGFyZ2V0LXVybCcpIHx8IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ01pc3NpbmcgdXJsJywgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gQWxsb3cgYWxyZWFkeSBwcm94aWVkIHJlbGF0aXZlIFVSTHMgbGlrZSAvYXBpL3Byb3h5P3VybD0uLi5cbiAgICAgIC8vIERlY29kZSBuZXN0ZWQgZW5jb2Rlc1xuICAgICAgd2hpbGUgKC8lMkZ8JTNBL2kudGVzdCh0YXJnZXQpKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVVUklDb21wb25lbnQodGFyZ2V0KTtcbiAgICAgICAgaWYgKGRlY29kZWQgPT09IHRhcmdldCkgYnJlYWs7XG4gICAgICAgIHRhcmdldCA9IGRlY29kZWQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuXG4gICAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KFN0cmluZyh0YXJnZXQpKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZSgnSW52YWxpZCB1cmwnLCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vIEZvcndhcmQgUmFuZ2UgaGVhZGVycyBmb3IgdmlkZW8gc3RyZWFtaW5nXG4gICAgY29uc3QgcmFuZ2UgPSByZXEuaGVhZGVycy5nZXQoJ3JhbmdlJykgfHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHRhcmdldFVybCA9IG5ldyBVUkwoU3RyaW5nKHRhcmdldCkpO1xuICAgIGNvbnN0IGhvc3RuYW1lID0gdGFyZ2V0VXJsLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaXNUaWt3bUhvc3QgPSAvKF58XFwuKXRpa3dtXFwuY29tJC9pLnRlc3QoaG9zdG5hbWUpIHx8IC8oXnxcXC4pdGlrY2RuXFwuL2kudGVzdChob3N0bmFtZSk7XG4gICAgY29uc3QgaXNUaWtUb2tDZG4gPSAvdGlrdG9rfGJ5dGVjZG58dHR3Y2RufHRpa3Rva2Nkbnx0aWt0b2t2L2kudGVzdChob3N0bmFtZSk7XG4gICAgY29uc3QgZmV0Y2hIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyNC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgJ0FjY2VwdCc6ICcqLyonLFxuICAgICAgJ0Nvbm5lY3Rpb24nOiAna2VlcC1hbGl2ZScsXG4gICAgfTtcbiAgICBpZiAocmFuZ2UpIGZldGNoSGVhZGVyc1snUmFuZ2UnXSA9IHJhbmdlO1xuICAgIGlmIChpc1Rpa3dtSG9zdCkge1xuICAgICAgZmV0Y2hIZWFkZXJzWydSZWZlcmVyJ10gPSAnaHR0cHM6Ly93d3cudGlrd20uY29tLyc7XG4gICAgICBmZXRjaEhlYWRlcnNbJ09yaWdpbiddID0gJ2h0dHBzOi8vd3d3LnRpa3dtLmNvbSc7XG4gICAgfSBlbHNlIGlmIChpc1Rpa1Rva0Nkbikge1xuICAgICAgZmV0Y2hIZWFkZXJzWydSZWZlcmVyJ10gPSAnaHR0cHM6Ly93d3cudGlrdG9rLmNvbS8nO1xuICAgICAgZmV0Y2hIZWFkZXJzWydPcmlnaW4nXSA9ICdodHRwczovL3d3dy50aWt0b2suY29tJztcbiAgICB9XG4gICAgLy8gRmlyc3QgYXR0ZW1wdDogZm9yd2FyZCByZXF1ZXN0IGFzLWlzIChpbmNsdWRpbmcgUmFuZ2UgaWYgcHJlc2VudClcbiAgICBsZXQgdXBzdHJlYW0gPSBhd2FpdCBmZXRjaCh0YXJnZXQsIHtcbiAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgaGVhZGVyczogT2JqZWN0LmtleXMoZmV0Y2hIZWFkZXJzKS5sZW5ndGggPyBmZXRjaEhlYWRlcnMgOiB1bmRlZmluZWQsXG4gICAgfSkuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVcHN0cmVhbSBmZXRjaCBlcnJvcjogJHtlPy5tZXNzYWdlIHx8ICd1bmtub3duIGVycm9yJ31gKTtcbiAgICB9KTtcbiAgICAvLyBSZXRyeSB3aXRob3V0IFJhbmdlIGlmIHNlcnZlciByZWplY3RzIHBhcnRpYWwgY29udGVudFxuICAgIGlmICgoIXVwc3RyZWFtLm9rIHx8ICF1cHN0cmVhbS5ib2R5KSB8fCAodXBzdHJlYW0uc3RhdHVzID49IDQwMCAmJiB1cHN0cmVhbS5zdGF0dXMgIT09IDIwNikpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHJ5SGVhZGVycyA9IHsgLi4uZmV0Y2hIZWFkZXJzIH07XG4gICAgICAgIGRlbGV0ZSAocmV0cnlIZWFkZXJzIGFzIGFueSlbJ1JhbmdlJ107XG4gICAgICAgIHVwc3RyZWFtID0gYXdhaXQgZmV0Y2godGFyZ2V0LCB7XG4gICAgICAgICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgICAgICAgaGVhZGVyczogT2JqZWN0LmtleXMocmV0cnlIZWFkZXJzKS5sZW5ndGggPyByZXRyeUhlYWRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCB7fVxuICAgIH1cbiAgICBpZiAoIXVwc3RyZWFtLm9rIHx8ICF1cHN0cmVhbS5ib2R5KSB7XG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdXBzdHJlYW0udGV4dCgpLmNhdGNoKCgpID0+ICcnKTtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGV4dCB8fCAnVXBzdHJlYW0gZmV0Y2ggZmFpbGVkJywgeyBzdGF0dXM6IHVwc3RyZWFtLnN0YXR1cyB8fCA1MDIgfSk7XG4gICAgfVxuXG4gICAgLy8gUGFzcyB0aHJvdWdoIHJlbGV2YW50IGhlYWRlcnMgYW5kIHN0YXR1cyBmb3IgcHJvcGVyIHBsYXliYWNrXG4gICAgbGV0IGNvbnRlbnRUeXBlID0gdXBzdHJlYW0uaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpIHx8ICcnO1xuICAgIGNvbnN0IHVybFBhdGggPSB0YXJnZXRVcmwucGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAvLyBPbmx5IGNvZXJjZSBjb250ZW50LXR5cGUgd2hlbiB1cHN0cmVhbSBkaWRuJ3QgcHJvdmlkZSBvbmVcbiAgICBpZiAoIWNvbnRlbnRUeXBlICYmICh0eXBlSGludCA9PT0gJ3ZpZGVvJyB8fCB1cmxQYXRoLmVuZHNXaXRoKCcubXA0JykpKSBjb250ZW50VHlwZSA9ICd2aWRlby9tcDQnO1xuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1zdG9yZScsXG4gICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6ICdpbmxpbmUnLFxuICAgIH07XG4gICAgY29uc3QgcGFzc0hlYWRlcnMgPSBbJ2V0YWcnLCAnbGFzdC1tb2RpZmllZCcsICdjb250ZW50LWxlbmd0aCcsICdhY2NlcHQtcmFuZ2VzJywgJ2NvbnRlbnQtcmFuZ2UnXTtcbiAgICBmb3IgKGNvbnN0IGggb2YgcGFzc0hlYWRlcnMpIHtcbiAgICAgIGNvbnN0IHYgPSB1cHN0cmVhbS5oZWFkZXJzLmdldChoKTtcbiAgICAgIGlmICghdikgY29udGludWU7XG4gICAgICBjb25zdCBwcm9wZXIgPSBoXG4gICAgICAgIC5zcGxpdCgnLScpXG4gICAgICAgIC5tYXAoKHMpID0+IHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpKVxuICAgICAgICAuam9pbignLScpO1xuICAgICAgaGVhZGVyc1twcm9wZXJdID0gdjtcbiAgICB9XG4gICAgaWYgKCFoZWFkZXJzWydBY2NlcHQtUmFuZ2VzJ10gJiYgKHR5cGVIaW50ID09PSAndmlkZW8nIHx8IHVybFBhdGguZW5kc1dpdGgoJy5tcDQnKSkpIGhlYWRlcnNbJ0FjY2VwdC1SYW5nZXMnXSA9ICdieXRlcyc7XG4gICAgLy8gRm9yY2UgZG93bmxvYWQgaWYgcmVxdWVzdGVkXG4gICAgaWYgKGFzRG93bmxvYWQpIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gdGFyZ2V0VXJsLnBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCkgfHwgJ2Rvd25sb2FkJztcbiAgICAgIGhlYWRlcnNbJ0NvbnRlbnQtRGlzcG9zaXRpb24nXSA9IGBhdHRhY2htZW50OyBmaWxlbmFtZT1cIiR7ZmlsZW5hbWV9XCJgO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXJzWydDb250ZW50LURpc3Bvc2l0aW9uJ10gPSAnaW5saW5lJztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHVwc3RyZWFtLmJvZHksIHsgc3RhdHVzOiB1cHN0cmVhbS5zdGF0dXMsIGhlYWRlcnMgfSk7XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoYEVycm9yOiAke2UubWVzc2FnZX1gLCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbInJ1bnRpbWUiLCJkeW5hbWljIiwiR0VUIiwicmVxIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwidGFyZ2V0IiwiZ2V0IiwidHlwZUhpbnQiLCJ0b0xvd2VyQ2FzZSIsImFzRG93bmxvYWQiLCJSZXNwb25zZSIsInN0YXR1cyIsImhlYWRlcnMiLCJ1bmRlZmluZWQiLCJ0ZXN0IiwiZGVjb2RlZCIsImRlY29kZVVSSUNvbXBvbmVudCIsIlN0cmluZyIsInJhbmdlIiwidGFyZ2V0VXJsIiwiaG9zdG5hbWUiLCJpc1Rpa3dtSG9zdCIsImlzVGlrVG9rQ2RuIiwiZmV0Y2hIZWFkZXJzIiwidXBzdHJlYW0iLCJmZXRjaCIsImNhY2hlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImNhdGNoIiwiZSIsIkVycm9yIiwibWVzc2FnZSIsIm9rIiwiYm9keSIsInJldHJ5SGVhZGVycyIsInRleHQiLCJjb250ZW50VHlwZSIsInVybFBhdGgiLCJwYXRobmFtZSIsImVuZHNXaXRoIiwicGFzc0hlYWRlcnMiLCJoIiwidiIsInByb3BlciIsInNwbGl0IiwibWFwIiwicyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJqb2luIiwiZmlsZW5hbWUiLCJwb3AiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/proxy/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproxy%2Froute&page=%2Fapi%2Fproxy%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Froute.ts&appDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FAaron%2FDownloads%2Fnext-lipsync-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
"use strict";(()=>{var e={};e.id=3748,e.ids=[3748],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},38867:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>y,staticGenerationAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{POST:()=>a,runtime:()=>u});var i=t(49303),n=t(88716),o=t(60670),p=t(9113);let u="nodejs";async function a(e){try{let{videoUrl:r,audioUrl:t,model:s,options:i}=await e.json()||{};if(!r||!t)return new Response("Missing videoUrl/audioUrl",{status:400});let n=process.env.SYNC_API_KEY||process.env.NEXT_PUBLIC_SYNC_API_KEY;if(!n)return new Response("Server misconfigured: missing SYNC_API_KEY",{status:500});let o=new p.SyncClient({apiKey:n}),u=await o.generations.create({input:[{type:"video",url:r},{type:"audio",url:t}],model:"lipsync-2"===s?"lipsync-2":"lipsync-2-pro",options:i||{},outputFileName:"lipsync"});return Response.json({id:u.id,status:u.status})}catch(e){if(e instanceof p.SyncError)return new Response(JSON.stringify({message:"SyncError",statusCode:e.statusCode,error:e.body}),{status:500});return new Response(`Error: ${e.message}`,{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/lipsync-beta/push/route",pathname:"/api/lipsync-beta/push",filename:"route",bundlePath:"app/api/lipsync-beta/push/route"},resolvedPagePath:"/Users/Aaron/Downloads/next-lipsync-app/app/api/lipsync-beta/push/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:y}=l,x="/api/lipsync-beta/push/route";function m(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:d})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,2659,9113],()=>t(38867));module.exports=s})();
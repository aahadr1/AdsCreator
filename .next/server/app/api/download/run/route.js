"use strict";(()=>{var e={};e.id=3978,e.ids=[3978],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},82416:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>c,patchFetch:()=>w,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d});var n={};t.r(n),t.d(n,{POST:()=>i});var o=t(49303),a=t(88716),s=t(60670);async function i(e){try{let r=await e.json(),t=(r?.url||"").trim();if(!t)return new Response("Missing required field: url",{status:400});let n=process.env.TIKHUB_API_BASE||"https://api.tikhub.io",o=process.env.TIKHUB_API_KEY||"";if(!o)return new Response("Server misconfigured: missing TIKHUB_API_KEY",{status:500});let a=`${n.replace(/\/$/,"")}/v1/download`,s=await fetch(a,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${o}`},body:JSON.stringify({url:t})});if(!s.ok){let e=await s.text();return new Response(e||"TikHub error",{status:s.status})}let i=await s.json(),u=i?.download_url||i?.url||i?.video_url||null;return Response.json({url:u,raw:i})}catch(e){return new Response(`Error: ${e.message}`,{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/download/run/route",pathname:"/api/download/run",filename:"route",bundlePath:"app/api/download/run/route"},resolvedPagePath:"/Users/Aaron/Downloads/next-lipsync-app/app/api/download/run/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:l}=u,c="/api/download/run/route";function w(){return(0,s.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:d})}},49303:(e,r,t)=>{e.exports=t(30517)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948],()=>t(82416));module.exports=n})();
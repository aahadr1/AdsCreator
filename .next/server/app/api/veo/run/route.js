(()=>{var e={};e.id=5970,e.ids=[5970],e.modules={2006:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=2006,e.exports=t},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},41815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>m});var o={};r.r(o),r.d(o,{POST:()=>u});var n=r(49303),s=r(88716),i=r(60670),a=r(9185),p=r.n(a);async function u(e){try{let t=await e.json();if(!t||!t.prompt||"string"!=typeof t.prompt)return new Response("Missing required field: prompt",{status:400});let r=process.env.REPLICATE_API_TOKEN;if(!r)return new Response("Server misconfigured: missing REPLICATE_API_TOKEN",{status:500});let o=new(p())({auth:r}),n=new Set(["google/veo-3","google/veo-3-fast","bytedance/seedance-1-pro","bytedance/seedance-1-lite"]).has(t.model||"")?t.model:"google/veo-3-fast",s=null;if(t.input&&"object"==typeof t.input){let e={};for(let[r,o]of Object.entries(t.input))null==o||"string"==typeof o&&""===o.trim()||(e[r]=o);e.prompt=t.prompt,s=e}else{let e={prompt:t.prompt};n.startsWith("google/veo")&&(e.resolution=t.resolution||"720p",t.image&&(e.image=t.image),t.negative_prompt&&(e.negative_prompt=t.negative_prompt),"number"==typeof t.seed&&(e.seed=t.seed),t.start_frame&&(e.start_image=t.start_frame),t.end_frame&&(e.end_image=t.end_frame)),s=e}let i=await o.run(n,{input:s}),a=null;if(i&&"object"==typeof i&&"url"in i&&"function"==typeof i.url)try{a=i.url()}catch{}return a||"string"!=typeof i||(a=i),!a&&i&&"string"==typeof i.url&&(a=i.url),Response.json({url:a,raw:i})}catch(e){return new Response(`Error: ${e.message}`,{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/veo/run/route",pathname:"/api/veo/run",filename:"route",bundlePath:"app/api/veo/run/route"},resolvedPagePath:"/Users/Aaron/Downloads/next-lipsync-app/app/api/veo/run/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:c}=l,g="/api/veo/run/route";function f(){return(0,i.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:m})}},49303:(e,t,r)=>{"use strict";e.exports=r(30517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,9185],()=>r(41815));module.exports=o})();
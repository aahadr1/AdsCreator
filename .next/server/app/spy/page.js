(()=>{var e={};e.id=5911,e.ids=[5911],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26137:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(52324),s(98131),s(35866);var t=s(23191),l=s(88716),i=s(37922),r=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let c=["",{children:["spy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,52324)),"/Users/Aaron/Downloads/next-lipsync-app/app/spy/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,98131)),"/Users/Aaron/Downloads/next-lipsync-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/Aaron/Downloads/next-lipsync-app/app/spy/page.tsx"],p="/spy/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/spy/page",pathname:"/spy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},97017:(e,a,s)=>{Promise.resolve().then(s.bind(s,20945))},38302:(e,a,s)=>{Promise.resolve().then(s.bind(s,4110))},9922:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},4110:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(10326);s(4047);var l=s(17577);function i(){let[e,a]=(0,l.useState)("https://www.facebook.com/drive4quantix/\nhttps://www.facebook.com/SHEINOFFICIAL/"),[s,i]=(0,l.useState)(99999),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!0),[o,p]=(0,l.useState)(""),[m,h]=(0,l.useState)(!1),[g,x]=(0,l.useState)("dress, summer"),[u,y]=(0,l.useState)("ALL"),[f,v]=(0,l.useState)(null),[j,b]=(0,l.useState)(null),[N,w]=(0,l.useState)(null),[_,k]=(0,l.useState)(!1),[I,S]=(0,l.useState)(null),[A,P]=(0,l.useState)([]),[T,C]=(0,l.useState)([]),[U,z]=(0,l.useState)(!0),[L,D]=(0,l.useState)("SHEIN"),[E,Z]=(0,l.useState)([]),[F,q]=(0,l.useState)(!1),[R,O]=(0,l.useState)(""),[B,$]=(0,l.useState)(!1);async function W(e){try{let a=await fetch(`/api/spy/scrape/results?datasetId=${encodeURIComponent(e)}&limit=1000`);if(!a.ok)throw Error(await a.text());let s=await a.json();P(Array.isArray(s.items)?s.items:[]),C(function(e){let a=[];for(let s of e||[])for(let e of Array.isArray(s?.results)?s.results:[]){let t=e?.snapshot||{},l=(Array.isArray(t?.cards)?t.cards:[])[0]||{},i=l?.resizedImageUrl||l?.originalImageUrl||Array.isArray(t?.images)&&t.images[0]||"",r=l?.title||t?.title||e?.ad_creative_link_title||"",n=t?.body?.text||e?.ad_creative_body||"",d=e?.publisherPlatform||e?.publisher_platform||e?.publisher_platforms||[],c=e?.pageName||e?.page_name||s?.pageInfo?.adLibraryPageInfo?.pageInfo?.pageName||"",o=e?.pageId||e?.page_id||s?.pageInfo?.adLibraryPageInfo?.pageInfo?.pageId||"",p=e?.startDateFormatted||e?.ad_delivery_start_time||"",m=e?.endDateFormatted||e?.ad_delivery_stop_time||"",h=e?.adArchiveId||e?.ad_archive_id||e?.adArchiveID||e?.id||void 0,g=l?.ctaText||t?.ctaText||"",x=l?.linkUrl||t?.linkUrl||"";a.push({adId:h,pageName:c,pageId:o,platforms:Array.isArray(d)?d:d?[d]:[],title:r,bodyText:n,previewImage:i,ctaText:g,linkUrl:x,startIso:p,endIso:m,raw:e})}return a}(Array.isArray(s.items)?s.items:[]))}catch(e){S(e?.message||"Failed to fetch results")}}async function H(){k(!0),S(null),P([]),v(null),b(null),w(null);try{let a={startUrls:function(){if(m){let e=encodeURIComponent(g),a=encodeURIComponent(u||"ALL");return[{url:`https://www.facebook.com/ads/library/?active_status=all&ad_type=all&country=${a}&q=${e}&search_type=keyword_unordered&media_type=all&sort_data[direction]=desc&sort_data[mode]=relevancy_monthly_grouped`,method:"GET"}]}return e.split(/\n|,/).map(e=>e.trim()).filter(Boolean).map(e=>({url:e,method:"GET"}))}(),resultsLimit:s,onlyTotal:r,isDetailsPerAd:d,activeStatus:o},t=await fetch("/api/spy/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw Error(await t.text());let l=await t.json();v(l.runId||null),b(l.defaultDatasetId||null),w(l.status||null)}catch(e){S(e?.message||"Failed to start scrape")}finally{k(!1)}}async function G(){q(!0),S(null);try{let e=await fetch("/api/spy/python/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:L})});if(!e.ok)throw Error(await e.text());let a=await e.json();Z(Array.isArray(a.pages)?a.pages:[])}catch(e){S(e?.message||"Search failed")}finally{q(!1)}}async function J(e){$(!0),S(null),C([]);try{let a=await fetch("/api/spy/python/ads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageId:e})});if(!a.ok)throw Error(await a.text());let s=await a.json(),t=Array.isArray(s.ads)?s.ads:[];C(function(e){let a=[];for(let s of e||[]){let e=s?.snapshot||{},t=(Array.isArray(e?.cards)?e.cards:[])[0]||{},l=t?.resized_image_url||t?.resizedImageUrl||t?.originalImageUrl||t?.original_image_url,i=Array.isArray(e?.images)&&e.images.length>0?e.images[0]?.resized_image_url||e.images[0]?.resizedImageUrl||e.images[0]?.originalImageUrl||e.images[0]?.original_image_url:"",r=l||i||"",n=t?.title||e?.title||s?.ad_creative_link_title||"",d="string"==typeof e?.body?e.body:e?.body?.text||s?.ad_creative_body||"",c=s?.publisher_platforms||s?.publisher_platform||[],o=s?.page_name||"",p=s?.page_id||"",m=s?.ad_delivery_start_time||s?.ad_creation_time||"",h=s?.ad_delivery_stop_time||"",g=s?.ad_archive_id||s?.id||void 0,x=t?.cta_text||t?.ctaText||e?.ctaText||"",u=t?.link_url||t?.linkUrl||e?.linkUrl||"";a.push({adId:g,pageName:o,pageId:p,platforms:Array.isArray(c)?c:c?[c]:[],title:n,bodyText:d,previewImage:r,ctaText:x,linkUrl:u,startIso:m,endIso:h,raw:s})}return a}(t))}catch(e){S(e?.message||"Fetch ads failed")}finally{$(!1)}}return(0,t.jsxs)("div",{className:"container",style:{gridTemplateColumns:"1fr"},children:[(0,t.jsxs)("div",{className:"panel",children:[(0,t.jsxs)("div",{className:"header",children:[t.jsx("h2",{style:{margin:0},children:"Facebook Page Ads Scraper"}),t.jsx("span",{className:"badge",children:U?"Built-in":"Apify"})]}),(0,t.jsxs)("div",{className:"options",style:{marginBottom:12},children:[t.jsx("div",{className:"row",style:{gap:16,alignItems:"center",marginBottom:8},children:(0,t.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("input",{type:"checkbox",checked:U,onChange:e=>z(e.target.checked)})," Use built-in free scraper"]})}),U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"row",style:{gap:8},children:[(0,t.jsxs)("div",{style:{flex:2},children:[t.jsx("div",{className:"small",children:"Search pages by name"}),t.jsx("input",{className:"input",value:L,onChange:e=>D(e.target.value),placeholder:"e.g. SHEIN"})]}),t.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:t.jsx("button",{className:"btn",onClick:G,disabled:F,children:"Search Pages"})})]}),E.length>0&&(0,t.jsxs)("div",{className:"panel",style:{marginTop:8},children:[(0,t.jsxs)("div",{className:"small",style:{marginBottom:4},children:["Results (",E.length,") — click to load ads"]}),t.jsx("div",{style:{display:"grid",gap:6},children:E.map(e=>(0,t.jsxs)("button",{className:"select",onClick:()=>{O(e.id),J(e.id)},children:[e.name," \xb7 ",e.id]},e.id))})]}),(0,t.jsxs)("div",{className:"row",style:{gap:8,marginTop:8},children:[(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx("div",{className:"small",children:"Or enter Page ID"}),t.jsx("input",{className:"input",value:R,onChange:e=>O(e.target.value),placeholder:"380039845369159"})]}),t.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:t.jsx("button",{className:"btn",onClick:()=>R&&J(R),disabled:B||!R,children:"Load Ads"})})]})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"row",style:{gap:16,alignItems:"center",marginBottom:8},children:(0,t.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("input",{type:"checkbox",checked:m,onChange:e=>h(e.target.checked)})," Search by keywords instead of URLs"]})}),m?(0,t.jsxs)("div",{className:"row",style:{gap:8},children:[(0,t.jsxs)("div",{style:{flex:2},children:[t.jsx("div",{className:"small",children:"Keywords (comma-separated)"}),t.jsx("input",{className:"input",value:g,onChange:e=>x(e.target.value),placeholder:"e.g. shoes, running"})]}),(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx("div",{className:"small",children:"Country"}),t.jsx("input",{className:"input",value:u,onChange:e=>y(e.target.value.toUpperCase()),placeholder:"ALL or ISO code, e.g. US"})]})]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:"small",children:"Start URLs (one per line or comma-separated)"}),t.jsx("textarea",{className:"input",style:{minHeight:96},value:e,onChange:e=>a(e.target.value),placeholder:`https://www.facebook.com/drive4quantix/
https://www.facebook.com/SHEINOFFICIAL/`})]}),(0,t.jsxs)("div",{className:"row",style:{gap:8},children:[(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx("div",{className:"small",children:"Results limit"}),t.jsx("input",{className:"input",type:"number",value:s,onChange:e=>i(Number(e.target.value)||0)})]}),(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx("div",{className:"small",children:"Active status"}),(0,t.jsxs)("select",{className:"select",value:o,onChange:e=>p(e.target.value),children:[t.jsx("option",{value:"",children:"Not specified"}),t.jsx("option",{value:"active",children:"active"}),t.jsx("option",{value:"inactive",children:"inactive"})]})]})]}),(0,t.jsxs)("div",{className:"row",style:{gap:16,alignItems:"center"},children:[(0,t.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("input",{type:"checkbox",checked:r,onChange:e=>n(e.target.checked)})," onlyTotal"]}),(0,t.jsxs)("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("input",{type:"checkbox",checked:d,onChange:e=>c(e.target.checked)})," isDetailsPerAd"]})]})]})]}),!U&&t.jsx("div",{style:{display:"flex",gap:8},children:t.jsx("button",{className:"btn",onClick:H,disabled:_,children:"Save & Start"})}),I&&t.jsx("div",{className:"small",style:{color:"#ff6b6b",marginTop:8},children:I}),!U&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"kv",style:{marginTop:12},children:[t.jsx("div",{children:"Run ID"}),t.jsx("div",{className:"small",children:f||"—"}),t.jsx("div",{children:"Status"}),t.jsx("div",{className:"small",children:N||"—"}),t.jsx("div",{children:"Dataset ID"}),t.jsx("div",{className:"small",children:j||"—"})]}),(f||j)&&(0,t.jsxs)("div",{className:"row",style:{gap:8,marginTop:8},children:[f&&t.jsx("a",{className:"btn",href:`https://console.apify.com/actors/runs/${encodeURIComponent(f)}`,target:"_blank",rel:"noreferrer",children:"Open run in Apify"}),j&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("a",{className:"select",href:`https://console.apify.com/storage/datasets/${encodeURIComponent(j)}`,target:"_blank",rel:"noreferrer",children:"Open dataset"}),t.jsx("button",{className:"select",onClick:()=>W(j),children:"Refresh results"})]})]})]})]}),(0,t.jsxs)("div",{className:"panel",style:{marginTop:12},children:[(0,t.jsxs)("div",{className:"header",children:[t.jsx("h3",{style:{margin:0},children:"Results"}),t.jsx("span",{className:"badge",children:T.length})]}),0===T.length?t.jsx("div",{className:"small",children:!U&&f?N?`Waiting for results… (${N})`:"Starting…":"No results yet"}):t.jsx("div",{style:{display:"grid",gap:8},children:T.map((e,a)=>(0,t.jsxs)("details",{className:"panel",style:{padding:12},children:[t.jsx("summary",{style:{cursor:"pointer"},children:(0,t.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[(0,t.jsxs)("div",{style:{display:"grid",gap:4},children:[t.jsx("div",{style:{fontWeight:700},children:e.pageName||"Unknown Page"}),t.jsx("div",{className:"small",style:{opacity:.8},children:e.title||"—"})]}),t.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:(0,t.jsxs)("span",{className:"badge",children:[(e.startIso||"").slice(0,10)," → ",(e.endIso||"").slice(0,10)||"now"]})})]}),e.previewImage&&t.jsx("div",{style:{width:"100%",overflow:"hidden",borderRadius:8,border:"1px solid rgba(255,255,255,0.08)"},children:t.jsx("img",{src:e.previewImage,alt:e.title||"creative",style:{display:"block",width:"100%",height:"auto"}})}),(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[Array.isArray(e.platforms)&&e.platforms.map(e=>t.jsx("span",{className:"badge",children:e},e)),e.ctaText&&t.jsx("span",{className:"badge",children:e.ctaText})]})]})}),(0,t.jsxs)("div",{style:{marginTop:8},children:[t.jsx("div",{className:"small",style:{marginBottom:4},children:"Primary text"}),t.jsx("pre",{className:"log",style:{whiteSpace:"pre-wrap"},children:e.bodyText||"—"})]}),(0,t.jsxs)("div",{className:"kv",style:{marginTop:8},children:[t.jsx("div",{children:"Page"}),(0,t.jsxs)("div",{className:"small",children:[e.pageId," • ",e.pageName]}),t.jsx("div",{children:"CTA"}),t.jsx("div",{className:"small",children:e.ctaText||"—"}),t.jsx("div",{children:"Link"}),t.jsx("div",{className:"small",children:e.linkUrl?t.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noreferrer",children:e.linkUrl}):"—"}),t.jsx("div",{children:"Ad ID"}),t.jsx("div",{className:"small",children:e.adId||"—"})]}),(0,t.jsxs)("div",{style:{marginTop:8},children:[t.jsx("div",{className:"small",style:{marginBottom:4},children:"All fields"}),t.jsx("pre",{className:"log",style:{whiteSpace:"pre-wrap"},children:JSON.stringify(e.raw,null,2)})]})]},e.adId||a))})]})]})}},20945:(e,a,s)=>{"use strict";s.d(a,{LayoutWrapper:()=>_});var t=s(10326);s(17577);var l=s(35047),i=s(29798),r=s(58775),n=s(36283),d=s(49758),c=s(71709),o=s(1572),p=s(56562),m=s(61584),h=s(87444),g=s(31540),x=s(88307),u=s(2634),y=s(71208),f=s(88319),v=s(66697),j=s(32691),b=s(88378);let N=[{href:"/",label:"Home",icon:t.jsx(i.Z,{size:18})},{href:"/lipsync-new",label:"+ New Lipsync",icon:t.jsx(r.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #ff9f43)"},{href:"/transcription/bulk",label:"+ Bulk Transcription",icon:t.jsx(n.Z,{size:18}),gradient:"linear-gradient(90deg, #ff9f43, #6aa4ff)"},{href:"/veo",label:"+ New Video",icon:t.jsx(d.Z,{size:18}),gradient:"linear-gradient(90deg, #a36bff, #6aa4ff)"},{href:"/image",label:"+ New Image",icon:t.jsx(c.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #a36bff)"},{href:"/enhance",label:"+ New Enhance",icon:t.jsx(o.Z,{size:18}),gradient:"linear-gradient(90deg, #ffbd2e, #42d392)"},{href:"/tts",label:"+ New Text to Speech",icon:t.jsx(p.Z,{size:18}),gradient:"linear-gradient(90deg, #ffbd2e, #ff6b6b)"},{href:"/adscript",label:"+ New Ad Script",icon:t.jsx(m.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #ff9f43)"},{href:"/background-remove",label:"+ Remove Background",icon:t.jsx(h.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #ff6b6b)"},{href:"/download",label:"+ TikTok Downloader",icon:t.jsx(g.Z,{size:18}),gradient:"linear-gradient(90deg, #1db954, #2b8a3e)"},{href:"/spy",label:"Spy Tool",icon:t.jsx(x.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #42d392)"},{href:"/editor",label:"Editor",icon:t.jsx(u.Z,{size:18}),gradient:"linear-gradient(90deg, #42d392, #a36bff)"},{href:"/auto-edit-beta",label:"+ Auto Edit Beta",icon:t.jsx(y.Z,{size:18}),gradient:"linear-gradient(90deg, #6aa4ff, #a36bff)"},{href:"/library",label:"Database",icon:t.jsx(f.Z,{size:18}),gradient:"linear-gradient(90deg, #1db954, #6aa4ff)"},{href:"/tasks",label:"Tasks",icon:t.jsx(v.Z,{size:18})},{href:"/auth",label:"Sign in / Up",icon:t.jsx(j.Z,{size:18})},{href:"#",label:"Settings (soon)",icon:t.jsx(b.Z,{size:18}),disabled:!0}];function w(){let e=(0,l.usePathname)();return(0,t.jsxs)("aside",{className:"sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsx("h1",{className:"sidebar-title",children:"Lipsync"})}),t.jsx("nav",{className:"sidebar-nav",children:N.map(a=>{let s=e===a.href,l=!!a.gradient;return(0,t.jsxs)("a",{href:a.href,className:`nav-item ${s?"nav-item-active":""} ${l?"nav-item-gradient":""} ${a.disabled?"nav-item-disabled":""}`,style:l?{background:a.gradient}:void 0,onClick:a.disabled?e=>e.preventDefault():void 0,title:a.label,children:[t.jsx("span",{className:"nav-item-icon",children:a.icon}),t.jsx("span",{className:"nav-item-label",children:a.label})]},a.href)})}),t.jsx("div",{className:"sidebar-footer",children:(0,t.jsxs)("div",{className:"sidebar-copyright",children:["\xa9 ",new Date().getFullYear()," Lipsync"]})})]})}function _({children:e}){return"/"===(0,l.usePathname)()?t.jsx(t.Fragment,{children:e}):(0,t.jsxs)("div",{className:"app-layout",children:[t.jsx(w,{}),(0,t.jsxs)("main",{className:"app-main",children:[t.jsx("div",{className:"app-header",children:(0,t.jsxs)("div",{className:"app-header-content",children:[t.jsx("div",{className:"app-tagline",children:"Build great lipsyncs."}),(0,t.jsxs)("div",{className:"app-user",children:[t.jsx("div",{className:"user-email",id:"user-email"}),t.jsx("div",{className:"user-avatar-small"})]})]})}),t.jsx("div",{className:"app-content",children:e})]})]})}},98131:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o,metadata:()=>c});var t=s(19510);s(67272);var l=s(68570);let i=(0,l.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/components/LayoutWrapper.tsx`),{__esModule:r,$$typeof:n}=i;i.default;let d=(0,l.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/components/LayoutWrapper.tsx#LayoutWrapper`),c={title:"Lipsync App",description:"Upload a video + audio and get back a lipsynced video using Sieve",viewport:"width=device-width, initial-scale=1"};function o({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{suppressHydrationWarning:!0,children:t.jsx(d,{children:e})})})}},52324:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});var t=s(68570);let l=(0,t.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/app/spy/page.tsx`),{__esModule:i,$$typeof:r}=l;l.default;let n=(0,t.createProxy)(String.raw`/Users/Aaron/Downloads/next-lipsync-app/app/spy/page.tsx#default`)},67272:()=>{},4047:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,7893],()=>s(26137));module.exports=t})();